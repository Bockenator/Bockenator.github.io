<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8>
  <title>OPC Visualisation</title>
  <style>
  <style>
  * { margin: 0; padding: 0;}
			body {
				font-family: Trebuchet;
				background-color: #cccdce;
				color: #cccdce;
				overflow: hidden;
			}
			#page-wrapper {
				position: absolute;
				/* padding: 10px; */
				width: 100%;
        color: green;
				text-align: center;
			}
      .info-page {
        margin: auto;
        width: 50%;
				text-align: center;
        opacity: 1;
        -webkit-transition: all 2s ease-in-out;
        -moz-transition: all 2s ease-in-out;
        -ms-transition: all 2s ease-in-out;
        -o-transition: all 2s ease-in-out;
        transition: all 2s ease-in-out;
      }
      #buttons {
        font-family: Trebuchet;
				position: absolute;
				padding: 10px;
				width: 100%;
        color: green;
				text-align: left;
			}
      #UIbuttons{
        opacity: 0;
        font-family: Trebuchet;
        position: absolute;
        display: block;
        top: 25%;
				padding: 10px;
				width: 100%;
        color: green;
				text-align: left;
        animation: fadein 3s ease-in-out;
        -moz-animation: fadein 3s ease-in-out; /* Firefox */
        -webkit-animation: fadein 3s ease-in-out; /* Safari and Chrome */
        -o-animation: fadein 3s ease-in-out; /* Opera */
      }

      #UIbuttonsTest{
        font-family: Trebuchet;
        position: absolute;
        display: block;
        top: 25%;
				padding: 10px;
				width: 100%;
        color: green;
				text-align: left;
        opacity: 0;
        -webkit-transition: all 4s ease-in-out;
        -moz-transition: all 4s ease-in-out;
        -ms-transition: all 4s ease-in-out;
        -o-transition: all 4s ease-in-out;
        transition: all 4s ease-in-out;
      }

@keyframes fadein {
    from {
        opacity:0;
    }
    to {
        opacity:1;
    }
}
@-moz-keyframes fadein { /* Firefox */
    from {
        opacity:0;
    }
    to {
        opacity:1;
    }
}
@-webkit-keyframes fadein { /* Safari and Chrome */
    from {
        opacity:0;
    }
    to {
        opacity:1;
    }
}
@-o-keyframes fadein { /* Opera */
    from {
        opacity:0;
    }
    to {
        opacity: 1;
    }
}

      .uiinput{
        display: block;
      }

      #myProgress {
        position: relative;
        margin-left: auto;
        margin-right: auto;
        width: 10%;
        background-color: black;
        text-align: center;
        opacity: 0;
        -webkit-transition: all 4s ease-in-out;
        -moz-transition: all 4s ease-in-out;
        -ms-transition: all 4s ease-in-out;
        -o-transition: all 4s ease-in-out;
        transition: all 4s ease-in-out;
      }
      #myBar {
        position: relative;
        margin-right: auto;
        width: 0.1%;
        background-color: green;
        color: black;
        text-align: center;
        opacity: 0;
        -webkit-transition: all 3s ease-in-out;
        -moz-transition: all 3s ease-in-out;
        -ms-transition: all 3s ease-in-out;
        -o-transition: all 3s ease-in-out;
        transition: all 3s ease-in-out;
      }

  canvas {
     width: 100%;
     height: 100%;
     background-color: #cccdce;
     color: #cccdce;
   }
  </style>

</head>
<body>

  <div id="page-wrapper">
    <h1>Visualisation</h1>
    <div>
      Select a trace file:
      <input type="file" id="fileInput">
    </div>
    <p></p>
    <div id="myProgress">
      <div id="myBar"></div>
    </div>
    <pre id="fileDisplayArea"></pre>
    <p></p>
    <p class="info-page">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer ut vestibulum nibh, suscipit porta augue.
       Vestibulum ac laoreet ex. Interdum et malesuada fames ac ante ipsum primis in faucibus. Quisque vitae sem
       leo. Aliquam aliquet convallis orci in interdum. Aliquam condimentum dolor in erat commodo commodo eu
       molestie risus. Sed non fringilla dui, ac bibendum nulla. Curabitur rhoncus, ipsum scelerisque interdum
       scelerisque, lacus mauris fringilla arcu, ac suscipit dui elit non arcu.</p>
    <p></p>
    <p class="info-page">Curabitur in faucibus mi. In efficitur, nulla sed maximus commodo, neque libero placerat diam, nec
      pulvinar nibh velit non mauris. Praesent quis faucibus nisi. Nulla facilisi. Etiam maximus placerat
      dolor. Suspendisse hendrerit rhoncus arcu, sit amet pulvinar nisi fringilla eget. Suspendisse dolor
      enim, varius nec congue ac, hendrerit ut massa. Curabitur eu lacinia tellus. Proin interdum
      pellentesque pulvinar. Vestibulum condimentum feugiat malesuada.</p>
  </div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="js/three.js"></script>
  <script src="js/three.js-master/examples/js/controls/OrbitControls.js"></script>
  <script src="js/three.js-master/src/lights/PointLight.js"></script>
  <script src="OPCTemp.js"></script>
  <script type="text/javascript">

//   $('#fileInput').on('click', function() {
//     if ($('#form').css('opacity') == 0) $('#form').css('opacity', 1);
//     else $('#form').css('opacity', 0);
// });

  //init progress bar variables
  var bar_prog = 0;
  var bar_width = 0.4;
  var SIM_LENGTH = 10;


  //update bar by percentage based on the total time of Visualisation
  function update_bar(){
    var elem = document.getElementById("myBar");
    if (bar_prog < 100){
      bar_prog+=bar_width;
      elem.style.width = bar_prog+'%';
      elem.innerHTML = parseInt(bar_prog) * 1 + '%';
    }
  }

  //init bar
  function init_bar(){
    bar_width = (1/(SIM_LENGTH*10))*100;
    update_bar();
  }

  //global variables
  var rem_text = [];
  var POS = 0;
  var file_read = false;
  var SIMULATION_SPEED = 100;
  var PAUSED = false;
  var FORWARD = true;
  var RUNNING = false;
  var ANIMATION_ID;
  var HIDE_SIGNALS = false;
  var HIDE_GRID = true;
  var GRID_CHANGE = false;
  var SIGNAL_CHANGE = false;

  //variables to control actions of animation for forwards and backwards tracking
  var BIRTH_VAR = "birth";
  var SHRINK_VAR = "shrink";
  var GROW_VAR = "grow";
  var REPULSE_VAR = "repulse";
  var ATTRACT_VAR = "attract";
  var SOURCE_REPULSE_VAR = "source_repulse";
  var SOURCE_ATTRACT_VAR = "source_attract";
  var REMOVE_SOURCE_VAR = "remove_source";
  var DIE_VAR = "die";
  var REPAIR_VAR = "repair";


  //this is the clock area
  var fileDisplayArea = document.getElementById('fileDisplayArea');
  var scene = null;

  //create the grid which will store the chemical signals
  function init_signal_grid(){
    var xs = new Array(15);
    for (i = 0; i<15; i++){
      xs[i] = new Array(15).fill(0);
    }
    return xs;
  }

  //update the grid with the chemical signals as they are recieved

  //NOTE: x and y have been flipped because thats just the way it is....
  function update_grid(grid, sig_source_y, sig_source_x, sig_type){
    var x_start = sig_source_x+1;
    var x_end = sig_source_x+1;

    var y = sig_source_y - 6;
    var y_mod = 0;
    var x_mod = 0;

    //get all grid points above source
    for(i = 0; i <= 6; i++){
      y_mod = 5 - Math.abs((sig_source_y - y));

      for(j = x_start; j < x_end-1; j++){
        x_mod = 5 - Math.abs((sig_source_x - j));
        grid[y][j] += sig_type * (x_mod + y_mod);
      }
      x_start = x_start - 1;
      x_end += 1;
      y+=1;
    }

    y = sig_source_y + 1;
    x_start = sig_source_x - 4;
    x_end = sig_source_x + 6;
    //get all grid points below source
    for(i = 0; i < 5; i++){
      y_mod = 5 - Math.abs((sig_source_y - y));
      for(j = x_start; j < x_end-1; j++){
        x_mod = 5 - Math.abs((sig_source_x - j));
        grid[y][j] += sig_type * (x_mod + y_mod);
      }
      x_start += 1;
      x_end = x_end - 1;
      y+= 1;
    }
    return grid;
  }


  //when file is loaded begin running the animation
  window.onload = function() {
    var fileInput = document.getElementById('fileInput');

    fileInput.addEventListener('change', function(e) {
      var file = fileInput.files[0];
      var textType = /text.*/;

      if (file.type.match(textType)) {
        var reader = new FileReader();

        //when the file is loaded is when we start doing stuff
        reader.onload = function(e) {
          if ($('#UIbuttonsTest').css('opacity') == 0) $('#UIbuttonsTest').css('opacity', 1);
          if ($('#myBar').css('opacity') == 0) $('#myBar').css('opacity', 1);
          if ($('#myProgress').css('opacity') == 0) $('#myProgress').css('opacity', 1);
          if ($('.info-page').css('opacity') == 1) $('.info-page').css('opacity', 0);
          //split the input files into lines
          var splitRes = reader.result.split('\n')
          rem_text = splitRes;
          file_read = true;
          //pop up alert DEBUGGING TOOL
          //window.alert(text);
          //fileDisplayArea.innerText = splitRes;
          scene = null;
          if (RUNNING){
            //PAUSED = true;
            RUNNING = false;
          }
          sim_loop();

        }
        //read in file
        reader.readAsText(file)
      } else {
        fileDisplayArea.innerText = "File not supported!";
      }
    });
  }

  function sim_loop(){
    RUNNING = true;
    //create scene
    scene = new THREE.Scene();

    //add camera and set renderer
    var camera = new THREE.PerspectiveCamera( 90, window.innerWidth / window.innerHeight, 0.1, 1000 );
    camera.position.set(0, 120, 30);
    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0xcccdce);
    document.body.appendChild(renderer.domElement);
    scene.add(camera);

    //add camera controls (this could be disabled but its pretty cool)
    controls = new THREE.OrbitControls(camera, renderer.domElement);

    //add light (needs optimisation for position)
    var light = new THREE.PointLight(0xffffff, 1.2, 1000);
    light.position.set(0,0,0);
    var light2 = new THREE.PointLight(0xffffff, 1.2, 1000);
    light2.position.set(0,-80,0);
    var light3 = new THREE.PointLight(0xffffff, 1, 1000);
    light3.position.set(0,80,0);
    var light4 = new THREE.PointLight(0xffffff, 1, 1000);
    light4.position.set(65,80,0);
    var light5 = new THREE.PointLight(0xffffff, 1, 1000);
    light5.position.set(-50,80,-70);
    var light6 = new THREE.PointLight(0xffffff, 1, 1000);
    light6.position.set(-50,80,70);
    var light7 = new THREE.PointLight(0xffffff, 1, 1000);
    light7.position.set(-80,80,80);
    //scene.add(light);
    scene.add(light2);
    //scene.add(light3);
    scene.add(light4);
    scene.add(light5);
    scene.add(light6);
    //scene.add(light7);


    var id;

    var radius = 1;
    var segments = 16;
    var geometrySphere = new THREE.SphereGeometry( radius, segments, 16);
    var geometryLargeSphere = new THREE.SphereGeometry( radius*2, segments, 16);
    var geometryBox = new THREE.BoxGeometry( 10, 5, 10);
    var geometrySquare = new THREE.BoxGeometry(10,1,10);
    var geometrySmallSquare = new THREE.BoxGeometry(5,2,5);
    var materialP = new THREE.MeshLambertMaterial({color: 0x3d5982});
    var materialS = new THREE.MeshLambertMaterial({color: 0x823d3d});
    var materialM = new THREE.MeshLambertMaterial({color: 0xfff71e});
    var materialL = new THREE.MeshLambertMaterial({color: 0xff0000});

    materialL.transparent = true;
    materialL.opacity = 0.6;


    var materialAttract = new THREE.MeshLambertMaterial({color: 0x1ec900});
    var materialRepulse = new THREE.MeshLambertMaterial({color: 0xffee00});

    var clear_colour = new THREE.Color("rgb(255, 255, 255)");


    materialAttract.transparent = true;
    materialRepulse.transparent = true;

    materialAttract.opacity = 0.75;
    materialRepulse.opacity = 0.75;

    var grid_x = new THREE.GridHelper(160,16, 0x22a000, 0x22a000);
    //scene.add(grid_x);


    var count = POS;
    var no_spheres = 0;
    var no_boxes = 0;
    var loop_length = rem_text.length;

    //list of all spheres
    var sphere_list = {};
    //list of all boxes
    var box_list = {};
    //2d array of source signal grids
    var source_sig_val_list = init_signal_grid();
    var source_sig_list = create_singals();
    //dictionary of activation signals
    var signal_list = {};

    var activation_signal_list = {};

    animate();

    //create the array of animated grid squares
    function create_singals(){
      var signals = new Array(15);
      for (i = 0; i < signals.length; i++){
        var ys = new Array(15);
        for (j = 0; j < ys.length; j++){
          var matr = new THREE.MeshLambertMaterial({color: clear_colour});
          matr.transparent = true;
          matr.opacity = 0;
          ys[j] = new THREE.Mesh(geometrySquare, matr);
          ys[j].position.x = (i * 10) - 75;
          ys[j].position.z = (j * 10) - 75;
          scene.add(ys[j]);
        }
        signals[i] = ys;
      }
      return signals;
    }

    //gets the correct cell colour based on the signals present
    function get_cell_colour(val){
      if (val > 0){
        red = 0;
        green = val * 40;
      }
      else{
        red = (-1 * val) * 40;
        green = 0;
      }

      var string = "rgb("+String(red)+", " +String(green)+", 0)";

      return new THREE.Color(string);
    }

    function update_signals(){
      for (i = 0; i < 15; i++){
        for (j = 0; j < 15; j++){
          source_sig_list[i][j].material.color = (get_cell_colour(source_sig_val_list[i][j]));
          if(source_sig_val_list[i][j] != 0){
            source_sig_list[i][j].material.opacity = 0.40;
          }
          else{
            source_sig_list[i][j].material.opacity = 0;
          }
        }
      }
      if (HIDE_SIGNALS){
        for (i = 0; i < 15; i++){
          for (j = 0; j < 15; j++){
            source_sig_list[i][j].material.opacity = 0;
          }
        }
      }
    }

    //spin with 1 second delay
    function pause_animation(){
      if (PAUSED){
        setTimeout(pause_animation, 100);
      }
      else{
        animate();
      }
    }

    function animate() {
      if (scene == null){
        cancelAnimationFrame(ANIMATION_ID);
        return;
      }
      // if(PAUSED){
      //   cancelAnimationFrame(ANIMATION_ID);
      //   POS = count;
      //   return;
      // }
      //currently no better solution than to just spin while waiting
      if (PAUSED){
        setTimeout(pause_animation, 100);
      }
      else{
        ANIMATION_ID = requestAnimationFrame(animate);
      }
      document.getElementById('simSpeedSubmit').onclick = function() {
        SIMULATION_SPEED = parseInt(document.getElementById('simSpeed').value);
      };

      if (GRID_CHANGE){
        GRID_CHANGE = false;
        if (HIDE_GRID){
          scene.remove(grid_x);
        }
        else{
          scene.add(grid_x);
        }
      }

      if (SIGNAL_CHANGE){
        SIGNAL_CHANGE = false;
        update_signals();
      }


      for (var j = 1; j<= SIMULATION_SPEED; j++) {
        if (count < (loop_length)){
          //count = 0;

          //var command = rem_text[count].match(/^(\S+)\s(.*)/).slice(1);
          var entry = rem_text[count].split(' ');
          var command = entry[0];

          if (command == "LENGTH"){
            SIM_LENGTH = entry[1];
            init_bar();
          }

          else if (command == "time"){
            fileDisplayArea.innerText = parseInt(entry[1]);
            update_bar();
          }

          else if (command == "finished_setup"){
            PAUSED = true;
          }

          else if (command == BIRTH_VAR){

            var cell_type = entry[1];
            var cell_id = entry[2];
            var unparsed_pos = entry[3].split(',');
            var x_pos = parseFloat(unparsed_pos[0]);
            var y_pos = parseFloat(unparsed_pos[1]);

            if (cell_type == 'P'){
              //sphere_list.push(new THREE.Mesh( geometrySphere, materialP ));
              sphere_list[cell_id] = new THREE.Mesh( geometrySphere, materialP );
              scene.add(sphere_list[cell_id]);
              sphere_list[cell_id].position.x = x_pos;
              //Y=Z to preserve 2D-ness
              sphere_list[cell_id].position.z = y_pos;
              no_spheres = no_spheres + 1;
            }
            else if (cell_type == 'S') {
              //sphere_list.push(new THREE.Mesh( geometrySphere, materialP ));
              sphere_list[cell_id] = new THREE.Mesh( geometrySphere, materialS );
              scene.add(sphere_list[cell_id]);
              sphere_list[cell_id].position.x = x_pos;
              //Y=Z to preserve 2D-ness
              sphere_list[cell_id].position.z = y_pos;
              no_spheres = no_spheres + 1;
            }
            else if (cell_type == 'M'){
              sphere_list[cell_id] = new THREE.Mesh( geometryLargeSphere, materialM );
              scene.add(sphere_list[cell_id]);
              sphere_list[cell_id].position.x = x_pos;
              //Y=Z to preserve 2D-ness
              sphere_list[cell_id].position.z = y_pos;
              no_spheres = no_spheres + 1;
            }
            else if (cell_type == 'L') {
              box_list[cell_id] = new THREE.Mesh( geometryBox, materialL );
              scene.add(box_list[cell_id]);
              box_list[cell_id].position.x = x_pos;
              //Y=Z to preserve 2D-ness
              box_list[cell_id].position.z = y_pos;
              no_boxes = no_boxes + 1;
            }
          }
          //ALREADY BASED ON SPHERE_LIST BEING A DICTIONARY
          else if(command == "move"){
            var cell_id = entry[1];
            var unparsed_pos = entry[2].split(',');
            var x_pos = parseFloat(unparsed_pos[0]);
            var y_pos = parseFloat(unparsed_pos[1]);
            var z_pos = parseFloat(unparsed_pos[2]);
            sphere_list[cell_id].position.x = x_pos;
            //Y=Z to preserve 2D-ness
            sphere_list[cell_id].position.z = y_pos;
            sphere_list[cell_id].position.y = z_pos;
          }
          //NEED TO DEAL WITH OBJECTS BEING REMOVED FROM START OF LIST
          else if(command == DIE_VAR){
            var cell_id =entry[1];
            //scene.remove(sphere_list[sphere]);
            //sphere_list.splice(sphere, 1);
            scene.remove(sphere_list[cell_id]);
            delete sphere_list[cell_id];
            //window.alert("KILLED AN OPC: "+cell_id);

          }
          else if(command == REPAIR_VAR){
            var lesion_id = parseInt(entry[1]);
            scene.remove(box_list[lesion_id]);
            delete box_list[lesion_id];
          }

          else if (command == REMOVE_SOURCE_VAR){
            var cell_id = entry[1];
            var unparsed_pos = entry[1].split(',');
            var x_pos = parseFloat(unparsed_pos[0]);
            var y_pos = parseFloat(unparsed_pos[1]);

            //to remove a source signal we update with a canceling signal
            if (signal_list[cell_id] == "attract"){
              source_sig_val_list = update_grid(source_sig_val_list, x_pos, y_pos, -1);
            }
            else{
              source_sig_val_list = update_grid(source_sig_val_list, x_pos, y_pos, 1);
            }

            update_signals();
          }

          else if (command == SOURCE_ATTRACT_VAR){
            var cell_id = entry[1];

            signal_list[cell_id] = "attract";
            var unparsed_pos = entry[1].split(',');
            var x_pos = parseFloat(unparsed_pos[0]);
            var y_pos = parseFloat(unparsed_pos[1]);

            source_sig_val_list = update_grid(source_sig_val_list, x_pos, y_pos, 1);
            update_signals();
          }

          else if(command == SOURCE_REPULSE_VAR){
            var cell_id = entry[1];

            signal_list[cell_id] = "repulse";
            var unparsed_pos = entry[1].split(',');
            var x_pos = parseFloat(unparsed_pos[0]);
            var y_pos = parseFloat(unparsed_pos[1]);

            source_sig_val_list = update_grid(source_sig_val_list, x_pos, y_pos, -1);
            update_signals();
          }

          else if(command == ATTRACT_VAR){
            var unparsed_pos = entry[1].split(',');
            var x_pos = parseFloat(unparsed_pos[0]);
            var y_pos = parseFloat(unparsed_pos[1]);

            if (unparsed_pos in signal_list){
              scene.remove(signal_list[unparsed_pos]);
            }

            activation_signal_list[unparsed_pos] = new THREE.Mesh(geometrySmallSquare, materialAttract);
            activation_signal_list[unparsed_pos].position.x = x_pos;
            activation_signal_list[unparsed_pos].position.z = y_pos;
            scene.add(activation_signal_list[unparsed_pos]);
          }

          else if(command == REPULSE_VAR){
            var unparsed_pos = entry[1].split(',');
            var x_pos = parseFloat(unparsed_pos[0]);
            var y_pos = parseFloat(unparsed_pos[1]);

            if (unparsed_pos in activation_signal_list){
              scene.remove(activation_signal_list[unparsed_pos]);
            }

            activation_signal_list[unparsed_pos] = new THREE.Mesh(geometrySmallSquare, materialRepulse);
            scene.add(activation_signal_list[unparsed_pos]);
            activation_signal_list[unparsed_pos].position.x = x_pos;
            activation_signal_list[unparsed_pos].position.z = y_pos;
          }

          else if (command == GROW_VAR) {
            var cell_id = entry[1];
            sphere_list[cell_id].scale.x += 0.1
            sphere_list[cell_id].scale.y += 0.1
            sphere_list[cell_id].scale.z += 0.1
          }

          else if (command == SHRINK_VAR) {
            var cell_id = entry[1];
            sphere_list[cell_id].scale.x -= 0.1
            sphere_list[cell_id].scale.y -= 0.1
            sphere_list[cell_id].scale.z -= 0.1
          }
          //count = count + 1;
          if (FORWARD){
            count = count + 1;
          }
          else{
            count = count - 1;
          }
        }
      }

      renderer.render(scene, camera);
      controls.update();

    }

  }

  function pauseFunc(){
    PAUSED = true;
  }

  function resumeFunc(){
    PAUSED = false;
  }

  function playForward(){
    FORWARD = true;
    var BIRTH_VAR = "birth";
    var DEATH_VAR = "death";
    var SHRINK_VAR = "shrink";
    var GROW_VAR = "grow";
    var REPULSE_VAR = "repulse";
    var ATTRACT_VAR = "attract";
    var SOURCE_REPULSE_VAR = "source_repulse";
    var SOURCE_ATTRACT_VAR = "source_attract";
    var REMOVE_SOURCE_VAR = "remove";
    var DIE_VAR = "die";
    var REPAIR_VAR = "repair";
  }

  function playBackward(){
    FORWARD = false;
    var BIRTH_VAR = "death";
    var SHRINK_VAR = "grow";
    var GROW_VAR = "shrink";
    var REPULSE_VAR = "repulse";
    var ATTRACT_VAR = "attract";
    var SOURCE_REPULSE_VAR = "source_repulse";
    var SOURCE_ATTRACT_VAR = "source_attract";
    var REMOVE_SOURCE_VAR = "remove";
    var DIE_VAR = "birth";
    var REPAIR_VAR = "repair";
  }

  function showhideSignals(){
    if (HIDE_SIGNALS){
      HIDE_SIGNALS = false;
    }
    else{
      HIDE_SIGNALS = true;
    }

    SIGNAL_CHANGE = true;
  }

  function showhideGrid(){
    if (HIDE_GRID){
      HIDE_GRID = false;
    }
    else{
      HIDE_GRID = true;
    }
    GRID_CHANGE = true;
  }

  function setSpeed(){
    SIMULATION_SPEED = parseInt(document.getElementById('simSpeed').value);
  }

  </script>
  <div id="UIbuttonsTest">
    <p>Playback Controls</p>
    <input id="simSpeed" class="uiinput" type="text" name="test_text" value="100">
    <input id="simSpeedSubmit" class="uiinput" type="submit" name="test_button" value="Submit" onclick="javascript: setSpeed();">
    <input id="pauseButton" class="uiinput" type="submit" name="pause_button" value="Pause" onclick="javascript: pauseFunc();">
    <input id="resumeButton" class="uiinput" type="submit" name="resume_button" value="Resume" onclick="javascript: resumeFunc();">
    <input id="fowardButton" class="uiinput" type="submit" name="forward_button" value="Play" onclick="javascript: playForward();">
    <input id="backwardsButton" class="uiinput" type="submit" name="backwards_button" value="Reverse" onclick="javascript: playForward();">
    <input id="chemsigButton" class="uiinput" type="submit" name="chemsig_button" value="Show/Hide Signals" onclick="javascript: showhideSignals();">
    <input id="gridButton" class="uiinput" type="submit" name="grid_button" value="Show/Hide Grid" onclick="javascript: showhideGrid();">
  </div>
</body>
</html>
